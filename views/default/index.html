{{extend 'layout_frontend.html'}} {{block head}}
<style>
  .icono {
    font-size: 50px;
    padding-left: 20px;
    padding-right: 20px;
  }

  .h4,
  .h5,
  .page-header h4 {
    font-size: 20px !important;
  }

  .font-20 {
    font-size: 15px;
  }

  .card-box,
  .da-card {
    background-color: #fff;
    border-radius: 10px;
    -webkit-box-shadow: 0 0 28px rgba(0, 0, 0, 0.08);
    box-shadow: 0 0 28px rgba(0, 0, 0, 0.08);
  }
  .widget-style3 {
    padding: 0;
    overflow: hidden;
  }
  .widget-style3 .widget-data {
    width: calc(100% - 60px);
    padding: 20px 15px;
  }
  .widget-style3 .widget-icon {
    width: 60px;
    font-size: 30px;
    line-height: 1;
    text-align: center;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    background: #334148;
    color: #fff;
  }
</style>
{{end head}}

<div class="title pb-20">
  <h2 class="h3 mb-0">SGM Estadísticas</h2>
</div>

<div class="row pb-10">
  <div class="col-xl-4 col-lg-4 col-md-12 mb-20">
    <div class="card-box height-100-p widget-style3">
      <div class="d-flex flex-wrap">
        <div class="widget-data">
          <div class="weight-700 font-24 text-dark">20</div>
          <div class="font-14 text-secondary weight-500">
            Cantidad de Clientes
          </div>
        </div>
        <div class="widget-icon">
          <div
            class="icon"
            data-color="#00eccf"
            style="color: rgb(0, 236, 207)"
          >
            <i class="icon-copy dw dw-group"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-4 col-lg-4 col-md-12 mb-20">
    <div class="card-box height-100-p widget-style3">
      <div class="d-flex flex-wrap">
        <div class="widget-data">
          <div class="weight-700 font-24 text-dark">10</div>
          <div class="font-14 text-secondary weight-500">
            Cantidad de Empresas Clientes
          </div>
        </div>
        <div class="widget-icon">
          <div
            class="icon"
            data-color="#00eccf"
            style="color: rgb(0, 236, 207)"
          >
            <i class="icon-copy dw dw-deal"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-4 col-lg-4 col-md-12 mb-20">
    <div class="card-box height-100-p widget-style3">
      <div class="d-flex flex-wrap">
        <div class="widget-data">
          <div class="weight-700 font-24 text-dark">10</div>
          <div class="font-14 text-secondary weight-500">
            Cantidad de Empresas Proveedoras
          </div>
        </div>
        <div class="widget-icon">
          <div
            class="icon"
            data-color="#00eccf"
            style="color: rgb(0, 236, 207)"
          >
            <i class="icon-copy dw dw-trolley"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Section of Charts -->
<div class="row pb-10">
  <div class="col-md-8 mb-20">
    <div class="card-box height-100-p pd-20">
      <div
        class="d-flex flex-wrap justify-content-between align-items-center pb-0 pb-md-3"
      >
        <div class="h5 mb-md-0">Estado de los Contratos</div>
        <!-- <div class="form-group mb-md-0">
          <select class="form-control form-control-sm selectpicker">
            <option value="">Last Week</option>
            <option value="">Last Month</option>
            <option value="">Last 6 Month</option>
            <option value="">Last 1 year</option>
          </select>
        </div> -->
      </div>
      <!-- <div id="activities-chart"></div> -->
      <div id="chart3"></div>
    </div>
  </div>
  <div class="col-md-4 mb-20">
    <div class="card-box pd-30">
      <div class="progress-box text-center">
        <input
          type="text"
          class="knob dial1"
          value="80"
          data-width="120"
          data-height="120"
          data-linecap="round"
          data-thickness="0.12"
          data-bgColor="#fff"
          data-fgColor="#1b00ff"
          data-angleOffset="180"
          readonly
        />
        <h5 class="text-blue padding-top-10 h5">Contratos no Archivados</h5>
        <span class="d-block"
          >80% Average <i class="fa fa-line-chart text-blue"></i
        ></span>
      </div>
    </div>

    <div class="card-box pd-30" style="margin-top: 20px">
      <div class="progress-box text-center">
        <input
          type="text"
          class="knob dial2"
          value="30"
          data-width="120"
          data-height="120"
          data-linecap="round"
          data-thickness="0.12"
          data-bgColor="#fff"
          data-fgColor="#00e091"
          data-angleOffset="180"
          readonly
        />
        <h5 class="text-light-green padding-top-10 h5">
          Empresas de Clientes con Servicios
        </h5>
        <span class="d-block"
          >35% Average <i class="fa text-light-green fa-line-chart"></i
        ></span>
      </div>
    </div>
  </div>
</div>
<!-- End Section of Charts -->

<!-- Section of List -->
<div class="row">
  <!-- Listado de contratos no archivados -->
  <div class="col-lg-4 mb-30 col-md-6 col-sm-12">
    <div class="card-box height-100-p pd-20 min-height-200px">
      <div class="d-flex justify-content-between pb-10">
        <div class="h5 mb-0">Listado de Contratos No Archivados</div>
      </div>
      <div class="user-list">
        <ul>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Listado Empresas con mas Mantenimientos  -->
  <div class="col-lg-4 mb-30 col-md-6 col-sm-12">
    <div class="card-box height-100-p pd-20 min-height-200px">
      <div class="d-flex justify-content-between pb-10">
        <div class="h5 mb-0">Listado Empresas con más Mantenimientos</div>
      </div>
      <div class="user-list">
        <ul>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Listado Empresas con menos Mantenimientos -->
  <div class="col-lg-4 mb-30 col-md-6 col-sm-12">
    <div class="card-box height-100-p pd-20 min-height-200px">
      <div class="d-flex justify-content-between pb-10">
        <div class="h5 mb-0">Listado Empresas con menos Mantenimientos</div>
      </div>
      <div class="user-list">
        <ul>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
          <li class="d-flex mb-20 align-items-center justify-content-between">
            <div class="name-avatar d-flex align-items-center pr-2">
              <div class="txt">
                <span style="font-size: 12px; font-weight: 600"
                  >Contrato No. 1</span
                >
                <div class="font-14 weight-600">Guajiritos S.R.L</div>
              </div>
            </div>
            <div class="cta flex-shrink-0">
              <a href="#" class="btn btn-sm btn-outline-danger">No archivado</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- End Section List -->

{{block page_js}}
<script src="{{=URL('static/frontend', 'src/plugins/apexcharts/apexcharts.min.js')}}"></script>
<script src="{{=URL('static/frontend', 'src/plugins/jQuery-Knob-master/jquery.knob.min.js')}}"></script>

<script>
  $(".dial1").knob();
  $({ animatedVal: 0 }).animate(
    { animatedVal: 80 },
    {
      duration: 3000,
      easing: "swing",
      step: function () {
        $(".dial1").val(Math.ceil(this.animatedVal)).trigger("change");
      },
    }
  );

  $(".dial2").knob();
  $({ animatedVal: 0 }).animate(
    { animatedVal: 30 },
    {
      duration: 3000,
      easing: "swing",
      step: function () {
        $(".dial2").val(Math.ceil(this.animatedVal)).trigger("change");
      },
    }
  );

  let data = [];
  let categories = [];

  // Esto es codigo python q funciona
  // debido al sistema de plantillas de web2py

  data.push(parseInt("15"));
  categories.push("1");

  // var options = {
  //   series: [
  //     {
  //       name: "Reportes",
  //       data: data,
  //     },
  //   ],
  //   chart: {
  //     height: 450,
  //     type: "line",
  //     toolbar: {
  //       show: true,
  //     },
  //   },
  //   grid: {
  //     show: true,
  //     padding: {
  //       left: 0,
  //       right: 0,
  //     },
  //   },
  //   stroke: {
  //     width: 7,
  //     curve: "smooth",
  //   },
  //   xaxis: {
  //     type: "date",
  //     // type: 'datetime',
  //     categories: categories,
  //   },
  //   title: {
  //     // text: "Estado de los Reportes",
  //     align: "center",
  //     style: {
  //       fontSize: "16px",
  //       color: "#666",
  //     },
  //   },
  //   fill: {
  //     type: "gradient",
  //     gradient: {
  //       shade: "dark",
  //       gradientToColors: ["#1b00ff"],
  //       shadeIntensity: 1,
  //       type: "horizontal",
  //       opacityFrom: 1,
  //       opacityTo: 1,
  //       stops: [0, 100, 100, 100],
  //     },
  //   },
  //   markers: {
  //     size: 4,
  //     colors: ["#FFA41B"],
  //     strokeColors: "#fff",
  //     strokeWidth: 2,
  //     hover: {
  //       size: 7,
  //     },
  //   },
  //   yaxis: {
  //     min: 0,
  //     max: 10,
  //     title: {
  //       text: "Cantidad de Contratos",
  //     },
  //   },
  // };
  // var chart = new ApexCharts(
  //   document.querySelector("#activities-chart"),
  //   options
  // );
  // chart.render();

  var options3 = {
    series: [
      {
        name: "Elaboración",
        data: [44, 55, 57, 56, 61, 58, 63, 60, 66],
      },
      {
        name: "Archivados",
        data: [76, 85, 101, 98, 87, 105, 91, 114, 94],
      },
    ],
    chart: {
      type: "bar",
      height: 350,
      toolbar: {
        show: false,
      },
    },
    plotOptions: {
      bar: {
        horizontal: false,
        columnWidth: "25%",
        endingShape: "rounded",
      },
    },
    dataLabels: {
      enabled: false,
    },
    stroke: {
      show: true,
      width: 2,
      colors: ["transparent"],
    },
    xaxis: {
      categories: [
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
      ],
    },
    yaxis: {
      title: {
        text: "Cantidad de Contratos",
      },
    },
    fill: {
      opacity: 1,
    },
    tooltip: {
      y: {
        formatter: function (val) {
          return "$" + val + "thousands";
        },
      },
    },
  };
  var chart = new ApexCharts(document.querySelector("#chart3"), options3);
  chart.render();
</script>
{{end page_js}}
